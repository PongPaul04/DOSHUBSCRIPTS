-- Load Rayfield and create the key system first
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/SiriusSoftwareLtd/Rayfield/main/source.lua'))()

local Window = Rayfield:CreateWindow({
    Name = "CHECKING PROCESS!!!",
    LoadingTitle = "GAME VERIFICATION",
    LoadingSubtitle = "by Sirius",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "DOSHUB",
        FileName = "Big Hub"
    },
    KeySystem = true, -- Set this to true to use the key system
    KeySettings = {
        Title = "DOSHUB SCRIPT",
        Subtitle = "Key System",
        Note = "The method of obtaining the key will be provided soon.",
        FileName = "Key", -- Unique file name for key
        SaveKey = true, -- Save the user's key
        GrabKeyFromSite = true, -- Grab key from the specified site
        Key = {"https://pastebin.com/raw/7rhr592Y"} -- List of keys accepted
    }
})

-- Load configuration
Rayfield:LoadConfiguration()

-- Notify that key system is verified
Rayfield:Notify({
    Title = "Key System Verified",
    Content = "Proceeding to check PlaceId...",
    Duration = 1
})

wait(3) -- Wait for key verification

-- Debugging: Check and print current PlaceId
print("Current PlaceId: " .. game.PlaceId)

-- Check the PlaceId and load the appropriate script
if game.PlaceId == 301549746 then
    -- Load the script for PlaceId 301549746
    loadstring(game:HttpGet("https://raw.githubusercontent.com/PongPaul04/COUNTERBLOXw-GUI/refs/heads/main/REYFIELD"))()
elseif game.PlaceId == 15514727567 then
    -- Load the script for PlaceId 14518422161
    loadstring(game:HttpGet("https://raw.githubusercontent.com/PongPaul04/GUNFIGHT-ARENA/refs/heads/main/SIMPLE"))()
else
    -- Create error tabs and display notifications if PlaceId doesn't match
    local ERRORTab = Window:CreateTab("ERROR", 4483362458) -- Title, Image
    local SUPPORTTab = Window:CreateTab("NOT SUPPORTED", 4483362458) -- Title, Image
    local CONTACTTab = Window:CreateTab("CONTACT THE OWNER", 4483362458) -- Title, Image

    -- Notify that the current game is unsupported
    Rayfield:Notify({
        Title = "UNSUPPORTED GAME",
        Content = "This script does not support the current game.",
        Duration = 6.5,
        Image = 4483362458, -- Ensure this is a valid image ID
        Actions = {
            Ignore = {
                Name = "Okay!",
                Callback = function(value)
                    print("CLOSE THE GAME NOW IT MIGHT GET YOU BANNED!")
                end
            },
        },
    })
end
